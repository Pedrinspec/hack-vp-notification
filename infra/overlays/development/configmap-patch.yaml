apiVersion: v1
kind: ConfigMap
metadata:
  name: hack-notification-config
  namespace: notification-dev
data:
  # Kafka local (ex: Kind, Minikube, ou kafka via port-forward)
  kafka.bootstrap-servers: "kafka-service.kafka.svc.cluster.local:9092"
  kafka.group-id: "notification-service-dev"

  # Tópicos de desenvolvimento (isolados dos outros ambientes)
  topic.video-failed: "dev.video.failed.v1"
  topic.video-failed-dlq: "dev.video.failed.v1.dlq"

  # Retry mais agressivo para facilitar testes
  notification.retry.max-attempts: "2"
  notification.retry.backoff-ms: "500"

  # Logs verbosos para debugging
  logging.level.com.fiap.hacknotification: "DEBUG"
  logging.level.org.apache.kafka: "INFO"
  logging.level.org.springframework.kafka: "DEBUG"

  # JVM com menor memória para ambientes de dev
  java.opts: >-
    -XX:+UseContainerSupport
    -XX:MaxRAMPercentage=75.0
    -XX:+UseG1GC
    -Djava.security.egd=file:/dev/./urandom
